function topcolor(){var e=document.getElementById("post-cover")?.src;"post"==document.getElementById("body-wrap").className&&void 0!==e?RGBaster.colors(e,{paletteSize:30,exclude:["rgb(255,255,255)","rgb(0,0,0)"],success:function(e){var o=e.dominant,t=e.secondary;"light"==getContrastColor(o)&&(o=LightenDarkenColor(colorHex(e.dominant),-40),t=LightenDarkenColor(colorHex(e.dominant),-70)),document.body.style.setProperty("--heo-main-color",o),document.styleSheets[0].addRule(":root","--heo-main:"+o+"!important"),document.styleSheets[0].addRule(":root","--heo-main-op:"+o+"23!important"),document.styleSheets[0].addRule(":root","--heo-main-op-deep:"+o+"dd!important"),document.body.style.setProperty("--heo-backnav-color",t)}}):(document.body.style.setProperty("--heo-main-color","rgb(66, 90, 239)"),document.styleSheets[0].addRule(":root","--heo-main: var(--heo-theme)!important"),document.body.style.setProperty("--heo-backnav-color","#031764,#150136,#67044d"),document.styleSheets[0].addRule(":root","--heo-main-op: var(--heo-theme-op)!important"),document.styleSheets[0].addRule(":root","--heo-main-op-deep:var(--heo-theme-op-deep)!important"))}function getContrastColor(e){var o,t=colorRgb(e).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return o=299*t[1]+587*t[2]+114*t[3],(o/=255e3)>=.5?"light":"dark"}function colorHex(e){var o=e;if(/^(rgb|RGB)/.test(o)){for(var t=o.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),r="#",n=0;n<t.length;n++){var a=Number(t[n]).toString(16);"0"===a&&(a+=a),r+=a}return 7!==r.length&&(r=o),r}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(o))return o;var l=o.replace(/#/,"").split("");if(6===l.length)return o;if(3===l.length){var c="#";for(n=0;n<l.length;n+=1)c+=l[n]+l[n];return c}}function colorRgb(e){var o=e.toLowerCase();if(o&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(o)){if(4===o.length){for(var t="#",r=1;r<4;r+=1)t+=o.slice(r,r+1).concat(o.slice(r,r+1));o=t}var n=[];for(r=1;r<7;r+=2)n.push(parseInt("0x"+o.slice(r,r+2)));return"rgb("+n.join(",")+")"}return o}function LightenDarkenColor(e,o){var t=!1;"#"==e[0]&&(e=e.slice(1),t=!0);var r=parseInt(e,16),n=(r>>16)+o;n>255?n=255:n<0&&(n=0);var a=(r>>8&255)+o;a>255?a=255:a<0&&(a=0);var l=(255&r)+o;return l>255?l=255:l<0&&(l=0),(t?"#":"")+String("000000"+(l|a<<8|n<<16).toString(16)).slice(-6)}topcolor();